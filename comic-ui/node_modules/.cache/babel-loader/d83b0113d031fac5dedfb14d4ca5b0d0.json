{"remainingRequest":"/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/thread-loader/dist/cjs.js!/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/babel-loader/lib/index.js!/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hasegawakazuki/git/漫画UI/comic-ui/src/views/View.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hasegawakazuki/git/漫画UI/comic-ui/src/views/View.vue","mtime":1576391208497},{"path":"/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IEJvb2tMaW5rcyBmcm9tICJAL2NvbXBvbmVudHMvQm9va0xpbmtzLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYWJvdXQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb21pYzogW10sCiAgICAgIHZpZXdVcmw6ICIiLAogICAgICBwYWdlTnVtOiAwCiAgICB9OwogIH0sCiAgcHJvcHM6IFsicGFnZUlkIl0sCiAgY29tcG9uZW50czogewogICAgQm9va0xpbmtzOiBCb29rTGlua3MKICB9LAogIHdhdGNoOiB7CiAgICBwYWdlTnVtOiBmdW5jdGlvbiBwYWdlTnVtKCkgewogICAgICB0aGlzLnZpZXdVcmwgPSB0aGlzLmNvbWljLmltYWdlRGF0YVt0aGlzLnBhZ2VOdW1dLmltYWdlVXJsOwogICAgfQogIH0sCiAgYmVmb3JlUm91dGVFbnRlcjogZnVuY3Rpb24gYmVmb3JlUm91dGVFbnRlcih0bywgX2Zyb20sIG5leHQpIHsKICAgIG5leHQoZnVuY3Rpb24gKHZtKSB7CiAgICAgIHZtLmZldGNoRGF0YSh0by5wYXJhbXMucGFnZUlkKTsKICAgIH0pOwogIH0sCiAgYmVmb3JlUm91dGVVcGRhdGU6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlVXBkYXRlKHRvLCBfZnJvbSwgbmV4dCkgewogICAgc2Nyb2xsVG8oMCwgMCk7CiAgICB0aGlzLmZldGNoRGF0YSh0by5wYXJhbXMucGFnZUlkKTsKICAgIG5leHQoKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKGUua2V5Q29kZSA9PSAzNykgewogICAgICAgIF90aGlzLmJhY2tQYWdlKCk7CiAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09IDM5KSB7CiAgICAgICAgX3RoaXMubmV4dFBhZ2UoKTsKICAgICAgfQogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBiYWNrUGFnZTogZnVuY3Rpb24gYmFja1BhZ2UoKSB7CiAgICAgIGlmICh0aGlzLnBhZ2VOdW0gPiAwKSB7CiAgICAgICAgdGhpcy5wYWdlTnVtLS07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYWdlTnVtID0gdGhpcy5jb21pYy5wYWdlTnVtIC0gMTsKICAgICAgfQoKICAgICAgdGhpcy52aWV3VXJsID0gdGhpcy5jb21pYy5pbWFnZURhdGFbdGhpcy5wYWdlTnVtXS5pbWFnZVVybDsKICAgIH0sCiAgICBuZXh0UGFnZTogZnVuY3Rpb24gbmV4dFBhZ2UoKSB7CiAgICAgIGlmICh0aGlzLnBhZ2VOdW0gPCB0aGlzLmNvbWljLnBhZ2VOdW0gLSAxKSB7CiAgICAgICAgdGhpcy5wYWdlTnVtKys7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYWdlTnVtID0gMDsKICAgICAgfQoKICAgICAgdGhpcy52aWV3VXJsID0gdGhpcy5jb21pYy5pbWFnZURhdGFbdGhpcy5wYWdlTnVtXS5pbWFnZVVybDsKICAgIH0sCiAgICBmZXRjaERhdGE6IGZ1bmN0aW9uIGZldGNoRGF0YShwYWdlSWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGZldGNoRGF0YSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChheGlvcy5nZXQoImh0dHBzOi8vd2ZjMi1pbWFnZS1hcGktMjU5ODA5LmFwcHNwb3QuY29tL2FwaS9ib29rcy8iICsgcGFnZUlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMyLmNvbWljID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMi52aWV3VXJsID0gcmVzcG9uc2UuZGF0YS5pbWFnZURhdGFbMF0uaW1hZ2VVcmw7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgICAgICAgYWxlcnQoIuWkseaVlzoiICsgcmVhc29uKTsKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAzNykgewogICAgICAgICAgICAgICAgICBfdGhpczIuYmFja1BhZ2UoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09IDM5KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5uZXh0UGFnZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGZpbHRlcnM6IHsKICAgIHBhZ2VSZXRvdWNoaW5nOiBmdW5jdGlvbiBwYWdlUmV0b3VjaGluZyh2YWx1ZSkgewogICAgICByZXR1cm4gTnVtYmVyKHZhbHVlKSArIDE7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["View.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app__container\">\n    <header class=\"header\">\n      <div class=\"header__container\">\n        <nav class=\"header__nav\">\n          <ul class=\"header__lists\">\n            <li class=\"header__list\">\n              <router-link to=\"/\" class=\"header__link\">作品一覧</router-link>\n            </li>\n            <li class=\"header__list\">\n              <router-link\n                v-bind:to=\"{ name: 'about', params: { seriesId: comic.seriesId } }\"\n                class=\"header__link\"\n              >他の話</router-link>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </header>\n    <main class=\"view\">\n      <div class=\"view__container\" v-bind:key=\"pageId\">\n        <div class=\"view__mainContainer\">\n          <button v-on:click=\"backPage()\" class=\"view__btn view__btn--left\">back</button>\n          <img v-bind:src=\"viewUrl\" v-bind:alt=\"comic.title\" class=\"view__img\" />\n          <button v-on:click=\"nextPage()\" class=\"view__btn view__btn--right\">next</button>\n        </div>\n        <div class=\"view__pageController\">\n          <p class=\"view__pageNo\">{{ pageNum | pageRetouching }}</p>\n          <input\n            type=\"range\"\n            v-model=\"pageNum\"\n            step=\"1\"\n            min=\"0\"\n            v-bind:max=\"comic.pageNum - 1\"\n            class=\"view__range\"\n          />\n        </div>\n        <h1 class=\"view__title\">{{ comic.title }}</h1>\n        <BookLinks v-bind:series-id=\"comic.seriesId\" />\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport BookLinks from \"@/components/BookLinks.vue\";\n\nexport default {\n  name: \"about\",\n  data() {\n    return {\n      comic: [],\n      viewUrl: \"\",\n      pageNum: 0\n    };\n  },\n  props: [\"pageId\"],\n  components: {\n    BookLinks\n  },\n  watch: {\n    pageNum() {\n      this.viewUrl = this.comic.imageData[this.pageNum].imageUrl;\n    }\n  },\n  beforeRouteEnter(to, _from, next) {\n    next(vm => {\n      vm.fetchData(to.params.pageId);\n    });\n  },\n  beforeRouteUpdate(to, _from, next) {\n    scrollTo(0, 0);\n    this.fetchData(to.params.pageId);\n    next();\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"keydown\", e => {\n      if (e.keyCode == 37) {\n        this.backPage();\n      } else if (e.keyCode == 39) {\n        this.nextPage();\n      }\n    });\n  },\n  methods: {\n    backPage() {\n      if (this.pageNum > 0) {\n        this.pageNum--;\n      } else {\n        this.pageNum = this.comic.pageNum - 1;\n      }\n      this.viewUrl = this.comic.imageData[this.pageNum].imageUrl;\n    },\n    nextPage() {\n      if (this.pageNum < this.comic.pageNum - 1) {\n        this.pageNum++;\n      } else {\n        this.pageNum = 0;\n      }\n      this.viewUrl = this.comic.imageData[this.pageNum].imageUrl;\n    },\n    async fetchData(pageId) {\n      await axios\n        .get(\"https://wfc2-image-api-259809.appspot.com/api/books/\" + pageId)\n        .then(response => {\n          this.comic = response.data;\n          this.viewUrl = response.data.imageData[0].imageUrl;\n        })\n        .catch(reason => {\n          alert(\"失敗:\" + reason);\n        });\n\n      window.addEventListener(\"keydown\", e => {\n        if (e.keyCode == 37) {\n          this.backPage();\n        } else if (e.keyCode == 39) {\n          this.nextPage();\n        }\n      });\n    }\n  },\n  filters: {\n    pageRetouching(value) {\n      return Number(value) + 1;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.view {\n  &__container {\n    padding: 0 0 20px;\n    @media (prefers-color-scheme: dark) {\n      min-height: calc(100vh - 50px);\n      background: rgba(0, 0, 0, 0.7);\n      color: white;\n    }\n  }\n\n  &__mainContainer {\n    display: flex;\n    justify-content: center;\n    padding: 10px 0;\n    background: black;\n    position: relative;\n\n    @media screen and (max-width: 767px) {\n      width: 100%;\n      padding: 30px 10px;\n    }\n  }\n\n  &__btn {\n    position: absolute;\n    width: 45%;\n    height: 100%;\n    opacity: 0;\n    z-index: 10;\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    &--left {\n      top: 0;\n      left: 0;\n    }\n\n    &--right {\n      top: 0;\n      right: 0;\n    }\n  }\n\n  &__img {\n    height: 90vh;\n\n    @media screen and (max-width: 767px) {\n      height: 70vh;\n    }\n  }\n\n  &__pagControllere {\n    margin: 20px auto;\n  }\n\n  &__pageNo {\n    text-align: center;\n  }\n\n  &__range {\n    display: block;\n    width: 90%;\n    margin: 0 auto;\n    @media screen and (max-width: 767px) {\n      width: 80%;\n    }\n  }\n\n  &__title {\n    margin: 15px 0;\n    font-size: 18px;\n    text-align: center;\n\n    @media screen and (max-width: 767px) {\n      font-size: 15px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}