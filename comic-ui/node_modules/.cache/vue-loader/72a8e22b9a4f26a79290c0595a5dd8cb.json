{"remainingRequest":"/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hasegawakazuki/git/漫画UI/comic-ui/src/views/View.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hasegawakazuki/git/漫画UI/comic-ui/src/views/View.vue","mtime":1576374568083},{"path":"/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hasegawakazuki/git/漫画UI/comic-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBCb29rTGlua3MgZnJvbSAiQC9jb21wb25lbnRzL0Jvb2tMaW5rcy52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhYm91dCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbWljOiBbXSwKICAgICAgdmlld1VybDogIiIsCiAgICAgIHBhZ2VOdW06IDAKICAgIH07CiAgfSwKICBwcm9wczogWyJwYWdlSWQiXSwKICBjb21wb25lbnRzOiB7CiAgICBCb29rTGlua3MKICB9LAogIHdhdGNoOiB7CiAgICBwYWdlTnVtKCkgewogICAgICB0aGlzLnZpZXdVcmwgPSB0aGlzLmNvbWljLmltYWdlRGF0YVt0aGlzLnBhZ2VOdW1dLmltYWdlVXJsOwogICAgfQogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIGF3YWl0IGF4aW9zCiAgICAgIC5nZXQoImh0dHBzOi8vd2ZjMi1pbWFnZS1hcGktMjU5ODA5LmFwcHNwb3QuY29tL2FwaS9ib29rcy8iICsgdGhpcy5wYWdlSWQpCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmNvbWljID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB0aGlzLnZpZXdVcmwgPSByZXNwb25zZS5kYXRhLmltYWdlRGF0YVswXS5pbWFnZVVybDsKICAgICAgfSkKICAgICAgLmNhdGNoKHJlYXNvbiA9PiB7CiAgICAgICAgYWxlcnQoIuWkseaVlzoiICsgcmVhc29uKTsKICAgICAgfSk7CgogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBlID0+IHsKICAgICAgaWYgKGUua2V5Q29kZSA9PSAzNykgewogICAgICAgIHRoaXMuYmFja1BhZ2UoKTsKICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT0gMzkpIHsKICAgICAgICB0aGlzLm5leHRQYWdlKCk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgZSA9PiB7CiAgICAgIGlmIChlLmtleUNvZGUgPT0gMzcpIHsKICAgICAgICB0aGlzLmJhY2tQYWdlKCk7CiAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09IDM5KSB7CiAgICAgICAgdGhpcy5uZXh0UGFnZSgpOwogICAgICB9CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGJhY2tQYWdlKCkgewogICAgICBpZiAodGhpcy5wYWdlTnVtID4gMCkgewogICAgICAgIHRoaXMucGFnZU51bS0tOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGFnZU51bSA9IHRoaXMuY29taWMucGFnZU51bSAtIDE7CiAgICAgIH0KICAgICAgdGhpcy52aWV3VXJsID0gdGhpcy5jb21pYy5pbWFnZURhdGFbdGhpcy5wYWdlTnVtXS5pbWFnZVVybDsKICAgIH0sCiAgICBuZXh0UGFnZSgpIHsKICAgICAgaWYgKHRoaXMucGFnZU51bSA8IHRoaXMuY29taWMucGFnZU51bSAtIDEpIHsKICAgICAgICB0aGlzLnBhZ2VOdW0rKzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBhZ2VOdW0gPSAwOwogICAgICB9CiAgICAgIHRoaXMudmlld1VybCA9IHRoaXMuY29taWMuaW1hZ2VEYXRhW3RoaXMucGFnZU51bV0uaW1hZ2VVcmw7CiAgICB9CiAgfSwKICBmaWx0ZXJzOiB7CiAgICBwYWdlUmV0b3VjaGluZyh2YWx1ZSkgewogICAgICByZXR1cm4gTnVtYmVyKHZhbHVlKSArIDE7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["View.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"View.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <main class=\"view\">\n    <div class=\"view__container\">\n      <div class=\"view__mainContainer\">\n        <button v-on:click=\"backPage()\" class=\"view__btn view__btn--left\">\n          back\n        </button>\n        <img v-bind:src=\"viewUrl\" v-bind:alt=\"comic.title\" class=\"view__img\" />\n        <button v-on:click=\"nextPage()\" class=\"view__btn view__btn--right\">\n          next\n        </button>\n      </div>\n      <div class=\"view__pageController\">\n        <p class=\"view__pageNo\">{{ pageNum | pageRetouching }}</p>\n        <input\n          type=\"range\"\n          v-model=\"pageNum\"\n          step=\"1\"\n          min=\"0\"\n          v-bind:max=\"comic.pageNum - 1\"\n          class=\"view__range\"\n        />\n      </div>\n      <h1 class=\"view__title\">{{ comic.title }}</h1>\n      <BookLinks v-bind:series-id=\"comic.seriesId\" />\n    </div>\n  </main>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport BookLinks from \"@/components/BookLinks.vue\";\n\nexport default {\n  name: \"about\",\n  data() {\n    return {\n      comic: [],\n      viewUrl: \"\",\n      pageNum: 0\n    };\n  },\n  props: [\"pageId\"],\n  components: {\n    BookLinks\n  },\n  watch: {\n    pageNum() {\n      this.viewUrl = this.comic.imageData[this.pageNum].imageUrl;\n    }\n  },\n  async created() {\n    await axios\n      .get(\"https://wfc2-image-api-259809.appspot.com/api/books/\" + this.pageId)\n      .then(response => {\n        this.comic = response.data;\n        this.viewUrl = response.data.imageData[0].imageUrl;\n      })\n      .catch(reason => {\n        alert(\"失敗:\" + reason);\n      });\n\n    window.addEventListener(\"keydown\", e => {\n      if (e.keyCode == 37) {\n        this.backPage();\n      } else if (e.keyCode == 39) {\n        this.nextPage();\n      }\n    });\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"keydown\", e => {\n      if (e.keyCode == 37) {\n        this.backPage();\n      } else if (e.keyCode == 39) {\n        this.nextPage();\n      }\n    });\n  },\n  methods: {\n    backPage() {\n      if (this.pageNum > 0) {\n        this.pageNum--;\n      } else {\n        this.pageNum = this.comic.pageNum - 1;\n      }\n      this.viewUrl = this.comic.imageData[this.pageNum].imageUrl;\n    },\n    nextPage() {\n      if (this.pageNum < this.comic.pageNum - 1) {\n        this.pageNum++;\n      } else {\n        this.pageNum = 0;\n      }\n      this.viewUrl = this.comic.imageData[this.pageNum].imageUrl;\n    }\n  },\n  filters: {\n    pageRetouching(value) {\n      return Number(value) + 1;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.view {\n  &__mainContainer {\n    display: flex;\n    justify-content: center;\n    padding: 10px 0;\n    background: black;\n    position: relative;\n\n    @media screen and (max-width: 767px) {\n      padding: 10px;\n    }\n  }\n\n  &__btn {\n    position: absolute;\n    width: 45%;\n    height: 100%;\n    opacity: 0;\n    z-index: 10;\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    &--left {\n      top: 0;\n      left: 0;\n    }\n\n    &--right {\n      top: 0;\n      right: 0;\n    }\n  }\n\n  &__img {\n    height: 90vh;\n  }\n\n  &__pagControllere {\n    margin: 20px auto;\n  }\n\n  &__pageNo {\n    text-align: center;\n  }\n\n  &__range {\n    display: block;\n    width: 93%;\n    margin: 0 auto;\n  }\n\n  &__title {\n    text-align: center;\n  }\n}\n</style>\n"]}]}