(function(t){function e(e){for(var i,r,o=e[0],c=e[1],u=e[2],m=0,p=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(p.length)p.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},s={app:0},n=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"21bb":function(t,e,a){"use strict";var i=a("2dad"),s=a.n(i);s.a},"2dad":function(t,e,a){},3589:function(t,e,a){"use strict";var i=a("c5cf"),s=a.n(i);s.a},"440d":function(t,e,a){"use strict";var i=a("97b4"),s=a.n(i);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app",attrs:{id:"app"}},[a("header",{staticClass:"header"},[a("div",{staticClass:"header__container"},[a("nav",{staticClass:"header__nav"},[a("ul",{staticClass:"header__lists"},[a("li",{staticClass:"header__list"},[a("router-link",{staticClass:"header__link",attrs:{to:"/"}},[t._v("作品一覧")])],1)])])])]),a("router-view",{staticClass:"app__container"})],1)},n=[],r={name:"app",created:function(){this.$store.dispatch("loadComic")}},o=r,c=(a("5c0b"),a("2877")),u=Object(c["a"])(o,s,n,!1,null,null,null),l=u.exports,m=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"home"},[a("div",{staticClass:"home__container"},[a("ul",{staticClass:"home__lists"},t._l(t.comicList,(function(t){return a("li",{key:t.seriesId,staticClass:"home__list"},[a("router-link",{staticClass:"home__link",attrs:{to:{name:"about",params:{seriesId:t.seriesId}}}},[a("figure",{staticClass:"home__imgWrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.seriesImage,expression:"item.seriesImage"}],staticClass:"home__img",attrs:{alt:t.title}})])])],1)})),0)])])},f=[],_={name:"home",computed:{comicList:function(){return this.$store.getters.getComicList}},components:{}},d=_,g=(a("21bb"),Object(c["a"])(d,p,f,!1,null,null,null)),h=g.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"about"},[a("div",{staticClass:"about__container"},[a("h1",{staticClass:"about__title"},[t._v(t._s(t.comic.title))]),a("ul",{staticClass:"about__lists"},t._l(t.comic.books,(function(e){return a("li",{key:e.id,staticClass:"about__list"},[a("router-link",{staticClass:"about__link",attrs:{to:{name:"view",params:{pageId:e.id}}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"item.image"}],staticClass:"about__img",attrs:{alt:"item.title"}}),a("h2",{staticClass:"about__bookTitle"},[t._v(t._s(e.title))])])],1)})),0)])])},b=[],w=a("bc3a"),k=a.n(w),C={name:"about",data:function(){return{comic:[]}},props:["seriesId"],created:function(){var t=this;k.a.get("https://wfc2-image-api-259809.appspot.com/api/series/"+this.seriesId).then((function(e){t.comic=e.data})).catch((function(t){alert("失敗:"+t)}))}},y=C,x=(a("f26d"),Object(c["a"])(y,v,b,!1,null,null,null)),N=x.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"view"},[a("div",{staticClass:"view__container"},[a("div",{staticClass:"view__mainContainer"},[a("button",{staticClass:"view__btn view__btn--left",on:{click:function(e){return t.backPage()}}},[t._v(" back ")]),a("img",{staticClass:"view__img",attrs:{src:t.viewUrl,alt:t.comic.title}}),a("button",{staticClass:"view__btn view__btn--right",on:{click:function(e){return t.nextPage()}}},[t._v(" next ")])]),a("div",{staticClass:"view__pageController"},[a("p",{staticClass:"view__pageNo"},[t._v(t._s(t._f("pageRetouching")(t.pageNum)))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pageNum,expression:"pageNum"}],staticClass:"view__range",attrs:{type:"range",step:"1",min:"0",max:t.comic.pageNum-1},domProps:{value:t.pageNum},on:{__r:function(e){t.pageNum=e.target.value}}})]),a("h1",{staticClass:"view__title"},[t._v(t._s(t.comic.title))]),a("BookLinks",{attrs:{"series-id":t.comic.seriesId}})],1)])},I=[],O=(a("a9e3"),a("d3b7"),a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bookLinks"},[a("div",{staticClass:"bookLinks__btnWrap"},[t.showBtn?a("button",{staticClass:"bookLinks__btn",on:{click:t.getList}},[t._v(" "+t._s(t.btnText)+" ")]):t._e()]),a("nav",{staticClass:"bookLinks__nav"},[a("ul",{staticClass:"bookLinks__lists"},t._l(t.comicNav.books,(function(e){return a("li",{key:e.id,staticClass:"bookLinks__list"},[a("router-link",{staticClass:"bookLinks__link",attrs:{to:{name:"view",params:{pageId:e.id}}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"item.image"}],staticClass:"bookLinks__img",attrs:{alt:"item.title"}}),a("h2",{staticClass:"bookLinks__title"},[t._v(t._s(e.title))])])],1)})),0)])])}),P=[],j={name:"BookLinks",data:function(){return{comicNav:[],showBtn:!0,btnText:"他の話も表示する"}},watch:{comicNav:function(){return this.comicNav}},props:["seriesId"],methods:{getList:function(){var t=this;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return this.btnText="読み込み中です",e.next=3,regeneratorRuntime.awrap(k.a.get("https://wfc2-image-api-259809.appspot.com/api/series/"+this.seriesId).then((function(e){t.comicNav=e.data})).catch((function(t){console.log("失敗:"+t)})));case 3:this.showBtn=!1;case 4:case"end":return e.stop()}}),null,this)}}},U=j,R=(a("440d"),Object(c["a"])(U,O,P,!1,null,"1759cb7e",null)),$=R.exports,E={name:"about",data:function(){return{comic:[],viewUrl:"",pageNum:0}},props:["pageId"],components:{BookLinks:$},watch:{pageNum:function(){this.viewUrl=this.comic.imageData[this.pageNum].imageUrl}},created:function(){var t=this;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(k.a.get("https://wfc2-image-api-259809.appspot.com/api/books/"+this.pageId).then((function(e){t.comic=e.data,t.viewUrl=e.data.imageData[0].imageUrl})).catch((function(t){alert("失敗:"+t)})));case 2:window.addEventListener("keydown",(function(e){37==e.keyCode?t.backPage():39==e.keyCode&&t.nextPage()}));case 3:case"end":return e.stop()}}),null,this)},beforeDestroy:function(){var t=this;window.removeEventListener("keydown",(function(e){37==e.keyCode?t.backPage():39==e.keyCode&&t.nextPage()}))},methods:{backPage:function(){this.pageNum>0?this.pageNum--:this.pageNum=this.comic.pageNum-1,this.viewUrl=this.comic.imageData[this.pageNum].imageUrl},nextPage:function(){this.pageNum<this.comic.pageNum-1?this.pageNum++:this.pageNum=0,this.viewUrl=this.comic.imageData[this.pageNum].imageUrl}},filters:{pageRetouching:function(t){return Number(t)+1}}},T=E,z=(a("3589"),Object(c["a"])(T,L,I,!1,null,null,null)),B=z.exports;i["a"].use(m["a"]);var S=[{path:"/",name:"home",component:h},{path:"/:seriesId",name:"about",component:N,props:!0},{path:"/:seriesId/:pageId",name:"view",component:B,props:!0}],D=new m["a"]({routes:S}),M=D,J=a("2f62");i["a"].use(J["a"]);var W=new J["a"].Store({state:{comicList:[]},getters:{getComicList:function(t){return t.comicList}},mutations:{setComicList:function(t,e){t.comicList=e}},actions:{loadComic:function(t){var e,a;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e=t.commit,a=[],i.next=4,regeneratorRuntime.awrap(k.a.get("https://wfc2-image-api-259809.appspot.com/api/series/").then((function(t){return a=t.data.data})).catch((function(t){alert("失敗:"+t)})));case 4:e("setComicList",a);case 5:case"end":return i.stop()}}))}},modules:{}}),q=a("caf9");i["a"].config.productionTip=!1,i["a"].use(q["a"],{preLoad:1.2,error:"/assets/img/error.png",loading:"/assets/img/loading.gif",attempt:1}),new i["a"]({router:M,store:W,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var i=a("9c0c"),s=a.n(i);s.a},"5f83":function(t,e,a){},"97b4":function(t,e,a){},"9c0c":function(t,e,a){},c5cf:function(t,e,a){},f26d:function(t,e,a){"use strict";var i=a("5f83"),s=a.n(i);s.a}});
//# sourceMappingURL=app.c4892b60.js.map