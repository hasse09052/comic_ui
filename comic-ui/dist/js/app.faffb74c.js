(function(t){function e(e){for(var s,r,c=e[0],o=e[1],l=e[2],m=0,p=[];m<c.length;m++)r=c[m],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,c=1;c<a.length;c++){var o=a[c];0!==i[o]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"21bb":function(t,e,a){"use strict";var s=a("2dad"),i=a.n(s);i.a},"2dad":function(t,e,a){},3589:function(t,e,a){"use strict";var s=a("c5cf"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app",attrs:{id:"app"}},[a("transition",{attrs:{name:"view"}},[a("router-view")],1)],1)},n=[],r={name:"app",created:function(){this.$store.dispatch("loadComic")}},c=r,o=(a("5c0b"),a("2877")),l=Object(o["a"])(c,i,n,!1,null,null,null),u=l.exports,m=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app__container"},[a("header",{staticClass:"header"},[a("div",{staticClass:"header__container"},[t._m(0),a("button",{staticClass:"header__btn",class:{"header__btn--active":!t.reverse},on:{click:function(e){t.reverse=!t.reverse}}},[t._v("Reverse")])])]),a("main",{staticClass:"home"},[a("div",{staticClass:"home__container"},[t.reverse?[a("ul",{staticClass:"home__lists"},t._l(t.comicList,(function(t){return a("li",{key:t.seriesId,staticClass:"home__list"},[a("router-link",{staticClass:"home__link",attrs:{to:{name:"about",params:{seriesId:t.seriesId}}}},[a("figure",{staticClass:"home__imgWrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.seriesImage,expression:"item.seriesImage"}],staticClass:"home__img",attrs:{alt:t.title}})])])],1)})),0)]:[a("ul",{staticClass:"home__lists"},t._l(t.listReverse,(function(t){return a("li",{key:t.seriesId,staticClass:"home__list"},[a("router-link",{staticClass:"home__link",attrs:{to:{name:"about",params:{seriesId:t.seriesId}}}},[a("figure",{staticClass:"home__imgWrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.seriesImage,expression:"item.seriesImage"}],staticClass:"home__img",attrs:{alt:t.title}})])])],1)})),0)]],2)])])},_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"header__nav"},[a("ul",{staticClass:"header__lists"},[a("li",{staticClass:"header__list"})])])}],d=(a("fb6a"),{name:"home",data:function(){return{reverse:!0}},computed:{comicList:function(){return this.$store.getters.getComicList},listReverse:function(){return this.comicList.slice().reverse()}},methods:{showReverse:function(){this.comicList=[]}}}),h=d,v=(a("21bb"),Object(o["a"])(h,p,_,!1,null,null,null)),f=v.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app__container"},[a("header",{staticClass:"header"},[a("div",{staticClass:"header__container"},[a("nav",{staticClass:"header__nav"},[a("ul",{staticClass:"header__lists"},[a("li",{staticClass:"header__list"},[a("router-link",{staticClass:"header__link",attrs:{to:"/"}},[t._v("作品一覧")])],1)])])])]),a("main",{staticClass:"about"},[a("div",{staticClass:"about__container"},[a("h1",{staticClass:"about__title"},[t._v(t._s(t.comic.title))]),a("p",{staticClass:"about__text"},[t._v(t._s(t.comic.description))]),a("ul",{staticClass:"about__lists"},t._l(t.comic.books,(function(e){return a("li",{key:e.id,staticClass:"about__list"},[a("router-link",{staticClass:"about__link",attrs:{to:{name:"view",params:{pageId:e.id}}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"item.image"}],staticClass:"about__img",attrs:{alt:"item.title"}}),a("h2",{staticClass:"about__bookTitle"},[t._v(t._s(e.title))])])],1)})),0)])])])},b=[],C=a("bc3a"),w=a.n(C),k={name:"about",data:function(){return{comic:[]}},props:["seriesId"],created:function(){var t=this;w.a.get("https://wfc2-image-api-259809.appspot.com/api/series/"+this.seriesId).then((function(e){t.comic=e.data})).catch((function(t){alert("失敗:"+t)}))}},y=k,x=(a("f26d"),Object(o["a"])(y,g,b,!1,null,null,null)),N=x.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app__container"},[a("header",{staticClass:"header"},[a("div",{staticClass:"header__container"},[a("nav",{staticClass:"header__nav"},[a("ul",{staticClass:"header__lists"},[a("li",{staticClass:"header__list"},[a("router-link",{staticClass:"header__link",attrs:{to:"/"}},[t._v("作品一覧")])],1),a("li",{staticClass:"header__list"},[a("router-link",{staticClass:"header__link",attrs:{to:{name:"about",params:{seriesId:t.comic.seriesId}}}},[t._v("他の話")])],1)])])])]),a("main",{staticClass:"view"},[a("div",{key:t.pageId,staticClass:"view__container"},[a("div",{staticClass:"view__mainContainer"},[a("button",{staticClass:"view__btn view__btn--left",on:{click:function(e){return t.backPage()}}},[t._v("back")]),a("img",{staticClass:"view__img",attrs:{src:t.viewUrl,alt:t.comic.title}}),a("button",{staticClass:"view__btn view__btn--right",on:{click:function(e){return t.nextPage()}}},[t._v("next")])]),a("div",{staticClass:"view__pageController"},[a("p",{staticClass:"view__pageNo"},[t._v(t._s(t._f("pageRetouching")(t.pageNum)))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pageNum,expression:"pageNum"}],staticClass:"view__range",attrs:{type:"range",step:"1",min:"0",max:t.comic.pageNum-1},domProps:{value:t.pageNum},on:{__r:function(e){t.pageNum=e.target.value}}})]),a("h1",{staticClass:"view__title"},[t._v(t._s(t.comic.title))]),a("BookLinks",{attrs:{"series-id":t.comic.seriesId}})],1)])])},I=[],O=(a("a9e3"),a("d3b7"),a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bookLinks"},[a("div",{staticClass:"bookLinks__btnWrap"},[t.showBtn?a("button",{staticClass:"bookLinks__btn",on:{click:t.getList}},[t._v(t._s(t.btnText))]):t._e()]),a("nav",{staticClass:"bookLinks__nav"},[a("ul",{staticClass:"bookLinks__lists"},t._l(t.comicNav.books,(function(e){return a("li",{key:e.id,staticClass:"bookLinks__list"},[a("router-link",{staticClass:"bookLinks__link",attrs:{to:{name:"view",params:{pageId:e.id}}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"item.image"}],staticClass:"bookLinks__img",attrs:{alt:"item.title"}}),a("h2",{staticClass:"bookLinks__title"},[t._v(t._s(e.title))])])],1)})),0)])])}),P=[],j={name:"BookLinks",data:function(){return{comicNav:[],showBtn:!0,btnText:"他の話も表示する"}},watch:{comicNav:function(){return this.comicNav}},props:["seriesId"],methods:{getList:function(){var t=this;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return this.btnText="読み込み中です",e.next=3,regeneratorRuntime.awrap(w.a.get("https://wfc2-image-api-259809.appspot.com/api/series/"+this.seriesId).then((function(e){t.comicNav=e.data})).catch((function(t){alert("失敗:"+t)})));case 3:this.showBtn=!1;case 4:case"end":return e.stop()}}),null,this)}}},R=j,U=(a("a11e"),Object(o["a"])(R,O,P,!1,null,"ca515a82",null)),E=U.exports,$={name:"about",data:function(){return{comic:[],viewUrl:"",pageNum:0}},props:["pageId"],components:{BookLinks:E},watch:{pageNum:function(){this.viewUrl=this.comic.imageData[this.pageNum].imageUrl}},beforeRouteEnter:function(t,e,a){a((function(e){e.fetchData(t.params.pageId)}))},beforeRouteUpdate:function(t,e,a){scrollTo(0,0),this.fetchData(t.params.pageId),a()},beforeDestroy:function(){var t=this;window.removeEventListener("keydown",(function(e){37==e.keyCode?t.backPage():39==e.keyCode&&t.nextPage()}))},methods:{backPage:function(){this.pageNum>0?this.pageNum--:this.pageNum=this.comic.pageNum-1,this.viewUrl=this.comic.imageData[this.pageNum].imageUrl},nextPage:function(){this.pageNum<this.comic.pageNum-1?this.pageNum++:this.pageNum=0,this.viewUrl=this.comic.imageData[this.pageNum].imageUrl},fetchData:function(t){var e=this;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(w.a.get("https://wfc2-image-api-259809.appspot.com/api/books/"+t).then((function(t){e.comic=t.data,e.viewUrl=t.data.imageData[0].imageUrl})).catch((function(t){alert("失敗:"+t)})));case 2:window.addEventListener("keydown",(function(t){37==t.keyCode?e.backPage():39==t.keyCode&&e.nextPage()}));case 3:case"end":return a.stop()}}))}},filters:{pageRetouching:function(t){return Number(t)+1}}},z=$,D=(a("3589"),Object(o["a"])(z,L,I,!1,null,null,null)),T=D.exports;s["a"].use(m["a"]);var B=[{path:"/",name:"home",component:f},{path:"/:seriesId",name:"about",component:N,props:!0},{path:"/:seriesId/:pageId",name:"view",component:T,props:!0}],S=new m["a"]({routes:B}),M=S,W=a("2f62");s["a"].use(W["a"]);var J=new W["a"].Store({state:{comicList:[]},getters:{getComicList:function(t){return t.comicList}},mutations:{setComicList:function(t,e){t.comicList=e}},actions:{loadComic:function(t){var e,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return e=t.commit,a=[],s.next=4,regeneratorRuntime.awrap(w.a.get("https://wfc2-image-api-259809.appspot.com/api/series/").then((function(t){return a=t.data.data})).catch((function(t){alert("失敗:"+t)})));case 4:e("setComicList",a);case 5:case"end":return s.stop()}}))}},modules:{}}),q=a("caf9");s["a"].config.productionTip=!1,s["a"].use(q["a"],{preLoad:1.2,error:"/assets/img/error.png",loading:"/assets/img/loading.gif",attempt:1}),new s["a"]({router:M,store:J,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),i=a.n(s);i.a},"5f83":function(t,e,a){},"765a":function(t,e,a){},"9c0c":function(t,e,a){},a11e:function(t,e,a){"use strict";var s=a("765a"),i=a.n(s);i.a},c5cf:function(t,e,a){},f26d:function(t,e,a){"use strict";var s=a("5f83"),i=a.n(s);i.a}});
//# sourceMappingURL=app.faffb74c.js.map